#include <stdio.h>
#include <stdlib.h>

void sort(int arr[], int n) {
	for(int i=0; i<n-1; i++)
		for(int j=0; j<n-i-1; j++)
			if(arr[j] > arr[j+1]) {
				int t = arr[j];
				arr[j] = arr[j+1];
				arr[j+1] = t;
			}
}

int main() {
	int n, head, seek = 0;
	printf("Enter number of requests: ");
	scanf("%d", &n);

	int req[n];
	printf("Enter request sequence: ");
	for(int i=0; i<n; i++) scanf("%d", &req[i]);

	printf("Enter initial head position: ");
	scanf("%d", &head);

	sort(req, n);
	printf("\n--Sequence--:\n %d ", head);

	int i, pos;
	for(i=0; i<n; i++) if(req[i] >= head) break;

	for (int j = i; j < n; j++) {
		seek += abs(req[j] - head);
		head = req[j];
		printf("-> %d ", head);
	}

// Jump directly to the smallest request (circular move)
	if (i != 0) {
		seek += abs(head - req[0]);
		head = req[0];
		printf("-> %d ", head);
	}

// Continue right again
	for (int j = 1; j < i; j++) {
		seek += abs(req[j] - head);
		head = req[j];
		printf("-> %d ", head);
	}

	printf("\nTotal Seek Time: %d\n", seek);
	return 0;
}
